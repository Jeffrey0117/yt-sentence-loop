# yt-sentence-loop

A Next.js web app for looping YouTube videos sentence by sentence with auto-downloaded captions.
Perfect for language learning, listening practice, and deep video study.

## Features

- Fetches and parses YouTube captions automatically (via yt-dlp)
- Sentence-by-sentence looping and navigation
- Keyboard shortcuts for fast control
- Clean, responsive UI (Tailwind CSS)
- Supports both manual and auto-generated captions

## Quick Start

1. Install dependencies:

   ```bash
   pnpm install
   # or
   npm install
   ```

2. Make sure you have `yt-dlp` installed and available in your PATH.

3. Start the dev server:

   ```bash
   pnpm dev
   # or
   npm run dev
   ```

4. Open [http://localhost:3000](http://localhost:3000) and enter a YouTube video ID or URL.

## Requirements

- Node.js 18+
- yt-dlp (for caption download)
- ffmpeg (optional, for advanced yt-dlp features)

## License

MIT

# yt-sentence-loop

一個最小可跑的 Next.js 專案範本：

- 前端：YouTube IFrame API + 右側逐字稿清單 + 逐句循環/上一句/下一句/重播/變速
- 後端：/api/transcript 以 `yt-dlp` 下載字幕（優先作者字幕，否則自動字幕），解析 VTT → { start, end, text }
- 先不接 Whisper，無字幕先回覆 404（之後可接 ASR）

## 快速開始

```bash
# 1) 建專案與套件
pnpm dlx create-next-app@latest yt-sentence-loop --ts --app --eslint --tailwind --src-dir false --import-alias @/*
cd yt-sentence-loop
pnpm add vtt-to-json
# 2) 把下列檔案覆蓋到專案（/app、/components、/lib 目錄等）
# 3) 安裝 yt-dlp（必須在你的部署環境能呼叫）
#    macOS:  brew install yt-dlp
#    Linux:  sudo pipx install yt-dlp   或  sudo pip3 install yt-dlp
#    Windows: choco install yt-dlp
# 4) 開發
pnpm dev
```

> 部署注意：Vercel 預設無法執行 `yt-dlp`。建議先在自管的 Node 伺服器或 Docker 容器內跑（例如 Fly.io、Render、Railway、自架 VPS）。
